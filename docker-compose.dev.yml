services:
    2104-wns-paris-agowork-back:
      container_name: agowork_back
      build: ../2104-wns-paris-agowork-back
      command: npm run dev
      volumes:
        - ../2104-wns-paris-agowork-back/src/:/app/src/
      ports:
        - 4001:4000
    mongodb:
      image: mongo
      container_name: mongodb
      hostname: mongodb
      volumes:
        - ../data:/data/db
      env_file: 
        - .env
      environment:
        - MONGO_PASSWORD=${DB_PASS} \
        - MONGO_DATABASE=${DB_DATABASE} \
    2104-wns-paris-agowork-front:
      container_name: agowork_front
      build: ./
      ports:
        - 3001:3000
      volumes:
        - ./src:/app/src/
      environment:
        - CHOKIDAR_USEPOLLING=true